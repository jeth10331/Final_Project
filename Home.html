<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Home</title>
    <script type="text/javascript" src="https://gc.kis.v2.scr.kaspersky-labs.com/FD126C42-EBFA-4E12-B309-BB3FDD723AC1/main.js?attr=6OpYsHU_n2-OQbngRB0x3M5Ae5BW8PU-oqc4KaPgEyl4tJDNdkE3HIvYM-QAHqwmgnaIeVrudvsYmsRLJ_dVBnzAFiw19XJHOILQ2PaR_R8PjJlW4bIio5j_iYpLliDopUlFhYkwoc-fx5gVpQ2S6rtt0Pao8hjCcWW964zE6n08MrTda5cBpW5NfGrhlSC1g9dU7BPNb8YvxSW3t18d1110EB6ektgy_uuxV5-Oj0ito246jjQ4V5oL45Rx5AnSuKL22xfQkeEiqvz2sTpC44nXEnc-A7ot_QxD_iqfEvgpCya3kY5a6NNTRv--Vd80mxXGSGYsrAUBe1n9blOtzId4UBfEoR0hxllI53ZAG2rpPTLS_BJVpFgHgBZnBSx7NliLUziHtOl1AXXLr3uwJYKALWF9s_jM6j3YrdOcMjwrnI0VyhGtYUJW3WHezjwWd1Wyla7IUqlSuQA_zEfcmoweru0Ncj5zkAL6AsdiAPsl3bDpDXt_vwWNIAimeZwKcozuxF5SIiwpJktpKWHxuVdhij1QhLoRwF-ntZEELr9DJpkiD17CKRstdqJlOFn-dZPMMyDi8Q4nx7_fyUNt9IS9q4Bdfa-zBqfgL3xZ6P0_nB9bjtlcDh0bvdWELIEMZiOJDdYmSKp3YkpIUbuKh-RWLf1l8dVr_7fONIi62j9OvGm5uTwOqte1CZNatVSCiL1LKj0DFZ9BZIbCsXHOE24iJb2PiB_-SeniOKfjCBgOIjyGfhWOuYTWOG74tDCfmvia5ijX5dHkiu0eR_sPe7gcfr_v1EGKnygx7AbtFvo58CA_KSVz_k2iqvUcJwMhbB6bqJikuEjdvvQUgvJeCI_HUFgt99aoErc8Ccjfg0dm0XgUUbeeUMnctlTGL-731tGPvBZDpu7gBRtu8QCemUnXuaBIW1M6OuMN5wiIJoB4aUkur45EGAdYD_hNKdTMHeHUH4Ufbf5QbTF52cjwsciRZgTnd_M4Eo6p0OZJBA-X5MtCc3KGxMJt3J26tMccmSXQvFva2iKXWqHfcV2TOzvjt2KHh-E_I8YwzajFcVhjhijZGgoBgY0t4YQSkMLmmW0zXanW3zI930ejxJGZeOpJ65d_GYHFfZ6XrgJ_KsYUyGh-M-0PYqhqzvCWKV2B3nYLVeHkbUFV-wO8oxRsTTq4-lYY5ki98XztxaFBohs6ez3QE5S7dRnSKN81J-LGFh8lzp55PHb5QWO8ETae9spPs7qS_ne8IQC__mtm3Wir6MxKvzLhWCdWXEdpMAjweL99tOo0LN-11hGcmp06QOVCuy23KTBR7AYZZ3qbesoiPOXOhxDmq1EBioD0n_UCYhUxM_3ADJExZPOnGKSlH1bnGhtA_IRrNB9UhmGN3DGeHFwZ2WDuxZDkKrKNrcZzE0Te9UkcbssHNroiippyknRzW-LDFIz4bnC1DjtSFn72AAo_OBZd6LUBIhqLEHy2gwnLNQe8Qwzak4LETRf2CO_JMG3i79X7UYUSUMEZXTrq0gBMW899VER-kDU7-pTqknyTHv5bY2IAdbeNz0b6jVl5I2WFvOy_gYVl43vYEM52lb1Ce4ggbIzeal47_hekZmUtgmqkJnmYEafpogO8lCmkEwHnSzzJbiwivIKjrymHFDt8C1Xw7kYegCkC1cjwm5KyeIkYkURdFE1fUTcxgz0TOuKJ8X75GeURFi7GYes" nonce="efa31378397d727d71784d8a1591c300" charset="UTF-8"></script><style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-image: url(https://graphiceraschool.com/wp-content/uploads/2024/06/image-9.jpg);
        }
        .container {
            max-width: 500px;
            margin: 20px auto;
            padding:40px;
            border-radius: 10px;
            box-shadow: 0px 0px 10px black;
            background-color:rgba(245, 245, 245, 0.456);
            
        }
        input, button {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border-radius: 5px;
            border: 1px solid black;
        }
        .time-in {
            background-color: rgba(0, 128, 0, 0.814);
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
        .time-out {
            background-color: rgba(255, 0, 0, 0.844);
            color: white;
            font-size: 16px;
            cursor: pointer;
        }
        
        canvas {
            margin-top: 10px;
            border: 1px solid rgba(255, 255, 255, 0);
            background-color: rgba(255, 255, 255, 0); /* Changed clock face to black */
        }
        
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-image: url(https://graphiceraschool.com/wp-content/uploads/2024/06/image-9.jpg);
        }
        .nav {
            position: absolute;
            top: 10px;
            right: 20px;
        }
        .nav a {
            margin: 0 10px;
            text-decoration: none;
            font-size: 18px;
            color: black;
            font-weight: bold;
        }
        .nav a[href="Sign out.html"] {
    color: rgba(255, 0, 0, 0.621);
    font-weight: bold;
}

    
    </style>
</head>
<body>

    <div class="nav">
        <a href="Home.html">Home</a>
        <a href="About us.html">About Us</a>
        <a href="Contact us.html">Contact Us</a>
        <a href="Sign out.html">Sign out</a>
    </div>

    <div class="container">
        <h2>School Attendance System</h2>
        <p>Track student time-in and time-out with parent notifications.</p>
        
        <label for="studentName">Student Name:</label>
        <input type="text" id="studentName" placeholder="Enter Student Name">

        <label for="Email">Email:</label>
        <input type="text" id="Email" placeholder="Enter Email">
        
        <label for="parentNumber">Parent Phone Number:</label>
        <input type="text" id="parentNumber" placeholder="Enter Parent Phone Number">
        

        <button class="time-in" onclick="markAttendance('IN')">Time IN</button>
        <button class="time-out" onclick="markAttendance('OUT')">Time OUT</button>

        <h3>Current Time:</h3>
        <canvas id="clockCanvas" width="200" height="200"></canvas>

        <h3>Attendance Log</h3>
        <ul id="attendanceLog"></ul>
    </div>

    <script>
        // Function to handle time-in and time-out
        function markAttendance(status) {
            let studentName = document.getElementById("studentName").value;
            let Email = document.getElementById("Email").value;
            let parentNumber = document.getElementById("parentNumber").value;
            let now = new Date().toLocaleString();

            if (studentName === "" ||Email === ""||parentNumber === "") {
                alert("Please enter student name, email, and parent phone number.");
                return;
            }

            let logEntry = `${studentName} - ${Email} - ${status} at ${now}`;
            let logList = document.getElementById("attendanceLog");
            let listItem = document.createElement("li");
            listItem.textContent = logEntry;
            logList.appendChild(listItem);

            // Save to local storage
            let attendanceRecords = JSON.parse(localStorage.getItem("attendance")) || [];
            attendanceRecords.push(logEntry);
            localStorage.setItem("attendance", JSON.stringify(attendanceRecords));

            // Send notification (simulated with alert)
            alert(`Notification sent to ${parentNumber} ${Email}: ${studentName} has ${status} at ${now}`);

            // Simulate sending an SMS (in a real system, this requires backend integration)
            console.log(`SMS Sent to ${parentNumber}: ${studentName} has ${status} at ${now}`);
        }

        // Load attendance logs from local storage
        function loadAttendanceLogs() {
            let logList = document.getElementById("attendanceLog");
            let attendanceRecords = JSON.parse(localStorage.getItem("attendance")) || [];

            attendanceRecords.forEach(record => {
                let listItem = document.createElement("li");
                listItem.textContent = record;
                logList.appendChild(listItem);
            });
        }

        // Clock Functionality (Canvas)
        function drawClock() {
            let canvas = document.getElementById("clockCanvas");
            let ctx = canvas.getContext("2d");
            let radius = canvas.width / 2;

            ctx.clearRect(0, 0, canvas.width, canvas.height);

            ctx.beginPath();
            ctx.arc(radius, radius, radius - 5, 0, 2 * Math.PI);
            ctx.fillStyle = "lightgray"; // Changed clock face color to black
            ctx.fill();
            ctx.strokeStyle = "black";
            ctx.stroke();

            ctx.font = "16px Arial";
            ctx.fillStyle = "black"; // Changed numbers to white for contrast
            ctx.textAlign = "center";
            ctx.textBaseline = "middle";
            for (let num = 1; num <= 12; num++) {
                let angle = (num * 30 - 90) * (Math.PI / 180);
                let x = radius + (radius - 20) * Math.cos(angle);
                let y = radius + (radius - 20) * Math.sin(angle);
                ctx.fillText(num, x, y);
            }

            let now = new Date();
            let hour = now.getHours() % 12;
            let minute = now.getMinutes();
            let second = now.getSeconds();

            drawHand(ctx, hour * 30 + (minute / 60) * 30, radius * 0.5, 6, "black");
            drawHand(ctx, minute * 6, radius * 0.7, 4, "black");
            drawHand(ctx, second * 6, radius * 0.9, 2, "red"); // Changed second hand to red

            setTimeout(drawClock, 1000);
        }

        function drawHand(ctx, angle, length, width, color = "black") {
            let radians = (angle - 90) * (Math.PI / 180);
            let x = 100 + length * Math.cos(radians);
            let y = 100 + length * Math.sin(radians);

            ctx.beginPath();
            ctx.moveTo(100, 100);
            ctx.lineTo(x, y);
            ctx.strokeStyle = color;
            ctx.lineWidth = width;
            ctx.stroke();
        }

        // GeoLocation for Attendance Tracking
        function getLocation() {
            if ("geolocation" in navigator) {
                navigator.geolocation.getCurrentPosition(position => {
                    console.log("Latitude:", position.coords.latitude);
                    console.log("Longitude:", position.coords.longitude);
                });
            } else {
                console.log("Geolocation is not supported by this browser.");
            }
        }

        // Load stored logs on page load
        window.onload = function () {
            loadAttendanceLogs();
            drawClock();
            getLocation();
        };
    </script>

</body>
</html>